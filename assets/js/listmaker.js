var list = [{
        "name": "Dorinku",
        "place_id": "ChIJ7entTw4ioFMRJEb9P-xsU2M"
    },
    {
        "name": "Cafe Mosaics",
        "place_id": "ChIJ6YXslhwioFMRKiBMjNaa_2Y"
    },
    {
        "name": "Hanjan",
        "place_id": "ChIJ6fqtHSwfoFMR7CEvWZoiuzA"
    },
    {
        "name": "Baijiu Bar",
        "place_id": "ChIJKcXdPUkioFMRBspqKB4GLqo"
    },
    {
        "name": "Scoop N' Roll",
        "place_id": "ChIJK-HZ_yUfoFMRVQNRiPtg-yE"
    },
    {
        "name": "Mayday Dogs",
        "place_id": "ChIJKcXdPUkioFMRqIerQNhliKw"
    },
    {
        "name": "The Holy Roller",
        "place_id": "ChIJPwFzNA4ioFMRWBv9alBJ1Vw"
    },
    {
        "name": "Have Mercy Southern Table & Bar",
        "place_id": "ChIJYeWoMw4ioFMR0_Rrlxzlc04"
    },
    {
        "name": "Canteen",
        "place_id": "ChIJgXmLeNMjoFMR8UurMIGPScM"
    },
    {
        "name": "Artisan Resto-Cafe",
        "place_id": "ChIJj8y9RBsioFMRUOQXLACd-HE"
    },
    {
        "name": "New York Bagel Cafe",
        "place_id": "ChIJz-Jn3BEioFMRrmPLB9LnyVs"
    },
    {
        "name": "Under The High Wheel",
        "place_id": "ChIJC8eyWg4ioFMREEvBaBVDbvY"
    },
    {
        "name": "Urban Diner",
        "place_id": "ChIJT7wcBysioFMR54-_-DnmDhw"
    },
    {
        "name": "Café Linnea",
        "place_id": "ChIJmztXI88joFMRKxfHzlHJte0"
    },
    {
        "name": "Cafe Bicyclette",
        "place_id": "ChIJ1byBhnAioFMR9L65k14J150"
    },
    {
        "name": "District Café & Bakery",
        "place_id": "ChIJk7ry6jkioFMRcA8fOkgCzeY"
    },
    {
        "name": "SPLASH POKE",
        "place_id": "ChIJf5EkaTcioFMRg7sAT4-Ikdg"
    },
    {
        "name": "'Ono Poke Co.",
        "place_id": "ChIJQSNNdkgioFMR0m8X7S3KU6w"
    },
    {
        "name": "Pip",
        "place_id": "ChIJ3YuZ3g8ioFMRdWTFgAN2QyA"
    },
    {
        "name": "Bar Bricco",
        "place_id": "ChIJzdLZwEcioFMROKJE1fWtiYw"
    },
    {
        "name": "Uccelino",
        "place_id": ""
    },
    {
        "name": "Malt & Mortar",
        "place_id": ""
    },
    {
        "name": "Tres Carnales Taqueria",
        "place_id": ""
    },
    {
        "name": "Rostizado",
        "place_id": ""
    },
    {
        "name": "Tzin Wine & Tapas Ltd",
        "place_id": ""
    },
    {
        "name": "Monument",
        "place_id": ""
    },
    {
        "name": "XO Bistro + Bar",
        "place_id": ""
    },
    {
        "name": "Japonais Bistro",
        "place_id": ""
    },
    {
        "name": "Snowy dessert",
        "place_id": ""
    },
    {
        "name": "Let eat snow",
        "place_id": ""
    },
    {
        "name": "Farrow",
        "place_id": ""
    },
    {
        "name": "Rg rd",
        "place_id": ""
    },
    {
        "name": "Tiffin",
        "place_id": ""
    },
    {
        "name": "High voltage food & coffee bar",
        "place_id": ""
    },
    {
        "name": "The tea girl",
        "place_id": ""
    },
    {
        "name": "Doughnut party",
        "place_id": ""
    },
    {
        "name": "Northern chicken",
        "place_id": ""
    },
    {
        "name": "De Dutch",
        "place_id": ""
    },
    {
        "name": "Parlour",
        "place_id": ""
    },
    {
        "name": "Urbano pizza",
        "place_id": ""
    },
    {
        "name": "Sugarbowl",
        "place_id": ""
    },
    {
        "name": "High level diner",
        "place_id": ""
    },
    {
        "name": "Love Pizza",
        "place_id": ""
    },
    {
        "name": "Blaze pizza",
        "place_id": ""
    },
    {
        "name": "Block 1912",
        "place_id": ""
    },
    {
        "name": "It dog",
        "place_id": ""
    },
    {
        "name": "Rosso",
        "place_id": ""
    },
    {
        "name": "Izakaya tomo",
        "place_id": ""
    },
    {
        "name": "Ohana donuterie",
        "place_id": ""
    },
    {
        "name": "Rebel food & drink",
        "place_id": ""
    },
    {
        "name": "Dadeo's",
        "place_id": ""
    },
    {
        "name": "Cibo bistro",
        "place_id": ""
    },
    {
        "name": "Red ox inn",
        "place_id": ""
    },
    {
        "name": "Huma",
        "place_id": ""
    },
    {
        "name": "Solstice",
        "place_id": ""
    },
    {
        "name": "Leva cafe",
        "place_id": ""
    },
    {
        "name": "Bistro praha",
        "place_id": ""
    },
    {
        "name": "Thanh thanh",
        "place_id": ""
    },
    {
        "name": "Syphay",
        "place_id": ""
    },
    {
        "name": "Nomchuks",
        "place_id": ""
    },
    {
        "name": "Parkallen pizza/restaurant",
        "place_id": ""
    },
    {
        "name": "Packrat louie",
        "place_id": ""
    },
    {
        "name": "Beer revolution",
        "place_id": ""
    },
    {
        "name": "Pazzo pazzo",
        "place_id": ""
    },
    {
        "name": "Jacks pizza cafe",
        "place_id": ""
    },
    {
        "name": "Stone & wheel",
        "place_id": ""
    },
    {
        "name": "Little brick",
        "place_id": ""
    },
    {
        "name": "Blue plate diner",
        "place_id": ""
    },
    {
        "name": "Gama cafe",
        "place_id": ""
    },
    {
        "name": "Woodrack cafe",
        "place_id": ""
    },
    {
        "name": "Art of cake",
        "place_id": ""
    },
    {
        "name": "Duchess",
        "place_id": ""
    },
    {
        "name": "Lockstock coffee",
        "place_id": ""
    },
    {
        "name": "La boule",
        "place_id": ""
    },
    {
        "name": "Moth cafe",
        "place_id": ""
    },
    {
        "name": "Crum coffee bar",
        "place_id": ""
    },
    {
        "name": "Bru coffee + beerhouse ",
        "place_id": ""
    },
    {
        "name": "Square 1 coffee",
        "place_id": ""
    },
    {
        "name": "Monument coffee bar",
        "place_id": ""
    },
    {
        "name": "Credo coffee",
        "place_id": ""
    },
    {
        "name": "High level diner",
        "place_id": ""
    },
    {
        "name": "Workshop eatery",
        "place_id": ""
    }
];

// http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle#The_modern_algorithm
// var shuffledlist = shuffle(list);
function shuffle(sourceArray) {
    for (var i = 0; i < 11; i++) {
        var j = i + Math.floor(Math.random() * (sourceArray.length - i));

        var temp = sourceArray[j];
        sourceArray[j] = sourceArray[i];
        sourceArray[i] = temp;
    }
    return sourceArray;
}

var featuredPlace = list[0];
console.log(featuredPlace.place_id);

// $.each(obj, function (key, object) {
//     var name = object.name; 
//     var place_id = object.place_id; 


// });

function initMap() {
    var map = new google.maps.Map(document.getElementById('map'), {
        center: {
            lat: 53.518,
            lng: -113.511
        },
        zoom: 10,
        styles: [{
                "elementType": "geometry",
                "stylers": [{
                    "color": "#f5f5f5"
                }]
            },
            {
                "elementType": "labels.icon",
                "stylers": [{
                    "visibility": "off"
                }]
            },
            {
                "elementType": "labels.text.fill",
                "stylers": [{
                    "color": "#616161"
                }]
            },
            {
                "elementType": "labels.text.stroke",
                "stylers": [{
                    "color": "#f5f5f5"
                }]
            },
            {
                "featureType": "administrative",
                "elementType": "geometry",
                "stylers": [{
                    "visibility": "off"
                }]
            },
            {
                "featureType": "administrative.land_parcel",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            },
            {
                "featureType": "administrative.land_parcel",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "color": "#bdbdbd"
                }]
            },
            {
                "featureType": "poi",
                "stylers": [{
                    "visibility": "off"
                }]
            },
            {
                "featureType": "poi",
                "elementType": "geometry",
                "stylers": [{
                    "color": "#eeeeee"
                }]
            },
            {
                "featureType": "poi",
                "elementType": "labels.text",
                "stylers": [{
                    "visibility": "off"
                }]
            },
            {
                "featureType": "poi",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "color": "#757575"
                }]
            },
            {
                "featureType": "poi.park",
                "elementType": "geometry",
                "stylers": [{
                    "color": "#e5e5e5"
                }]
            },
            {
                "featureType": "poi.park",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "color": "#9e9e9e"
                }]
            },
            {
                "featureType": "road",
                "elementType": "geometry",
                "stylers": [{
                    "color": "#ffffff"
                }]
            },
            {
                "featureType": "road",
                "elementType": "labels.icon",
                "stylers": [{
                    "visibility": "off"
                }]
            },
            {
                "featureType": "road.arterial",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "color": "#757575"
                }]
            },
            {
                "featureType": "road.highway",
                "elementType": "geometry",
                "stylers": [{
                    "color": "#dadada"
                }]
            },
            {
                "featureType": "road.highway",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "color": "#616161"
                }]
            },
            {
                "featureType": "road.local",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            },
            {
                "featureType": "road.local",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "color": "#9e9e9e"
                }]
            },
            {
                "featureType": "transit",
                "stylers": [{
                    "visibility": "off"
                }]
            },
            {
                "featureType": "transit.line",
                "elementType": "geometry",
                "stylers": [{
                    "color": "#e5e5e5"
                }]
            },
            {
                "featureType": "transit.station",
                "elementType": "geometry",
                "stylers": [{
                    "color": "#eeeeee"
                }]
            },
            {
                "featureType": "water",
                "elementType": "geometry",
                "stylers": [{
                    "color": "#c9c9c9"
                }]
            },
            {
                "featureType": "water",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "color": "#9e9e9e"
                }]
            }
        ]
    });

    var infowindow = new google.maps.InfoWindow();
    var service = new google.maps.places.PlacesService(map);

    service.getDetails({
        placeId: featuredPlace.place_id
    }, function (place, status) {
        if (status === google.maps.places.PlacesServiceStatus.OK) {
            var marker = new google.maps.Marker({
                map: map,
                position: place.geometry.location
            });
            google.maps.event.addListener(marker, 'click', function () {
                // infowindow.setContent('<div style="z-index: 2;"><strong>' + place.name + '</strong><br>' + 'Place ID: ' + place.place_id + '<br>' + place.formatted_address + '</div>');
                // infowindow.open(map, this);
                console.log("hi");
                $(".map .highlight-card .card-content .card-title").empty();
                $(".map .highlight-card .card-content .card-title").append(place.name);
                $(".map .highlight-card .card-content p").empty();
                $(".map .highlight-card .card-content p").append(place.name);
            });
        }
    });
}

function makeObj() {
    var dict = {}
    dict["name"] = $("#pane > div > div.widget-pane-content.scrollable-y > div > div > div > div.section-hero-header.white-foreground > div.section-hero-header-description > div:nth-child(1) > h1").innerText
    dict["description"] = $("#pane > div > div.widget-pane-content.scrollable-y > div > div > div > jsl > button > div > div:nth-child(1) > div.section-editorial-quote.section-editorial-divider > span").innerHTML
    dict["short_description"] = $("#pane > div > div.widget-pane-content.scrollable-y > div > div > div > div.section-hero-header.white-foreground > div.section-hero-header-description > div.section-hero-header-description-container > div > div:nth-child(2) > span.section-rating-term > span:nth-child(1) > button").innerHTML

    // API: 
    // rating given 
    // location given 
    // open/closed given
    // picture given 

    // tags 
    var tags = [];

    var highlights = $("#pane > div > div.widget-pane-content.scrollable-y > div > div > div.section-listbox.section-scrollbox.scrollable-y.scrollable-show > div:nth-child(2) > div.section-attribute-group-container").innerText.split("\n");
    highlights.pop();
    tags.append(highlights);

    var atmosphere = $("#pane > div > div.widget-pane-content.scrollable-y > div > div > div.section-listbox.section-scrollbox.scrollable-y.scrollable-show > div:nth-child(14) > div.section-attribute-group-container").innerText.split("\n");
    atmosphere.pop();
    tags.append(atmosphere);

    var offerings = $("#pane > div > div.widget-pane-content.scrollable-y > div > div > div.section-listbox.section-scrollbox.scrollable-y.scrollable-show > div:nth-child(8) > div.section-attribute-group-container").innerText.split("\n")
    offerings.pop();
    tags.append(offerings);

    var amenities = $("#pane > div > div.widget-pane-content.scrollable-y > div > div > div.section-listbox.section-scrollbox.scrollable-y.scrollable-show > div:nth-child(11) > div.section-attribute-group-container").innerText.split("\n");
    amenities.pop();
    tags.append(amenities);

    dict["tags"] = tags;
}

function changeSize(s) {
    $(".size-toggle .active").removeClass("active"); 
    $("." + s.name).addClass("active");
    $("body").removeClass("small medium large").addClass(s.class); 
}

function toggleCard(param) {
    if (param.parentElement.parentElement.className.includes(" expanded-card")) {
        param.parentElement.parentElement.className = param.parentElement.parentElement.className.replace(" expanded-card", '');
    } else {
        param.parentElement.parentElement.className += " expanded-card";
    }
}